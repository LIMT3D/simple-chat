<!-- admin.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Page</title>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
        }
        #resetSection {
            display: none;
        }
    </style>
</head>
<body>
    <h2>Admin Page - Enter Password</h2>

    <!-- Password Input -->
    <input type="text" id="token" placeholder="Enter Password or Token">
    <button onclick="checkToken()">Submit</button>

    <!-- Section to Reset the Chat (hidden initially) -->
    <div id="resetSection">
        <button onclick="resetChat()">Reset Chat</button>
    </div>

    <script>
        // Your Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBO8wfW-Hk7_razKfKS657zsNpgbdl8oRY",
            authDomain: "simple-chat-bd52a.firebaseapp.com",
            databaseURL: "https://simple-chat-bd52a-default-rtdb.firebaseio.com",
            projectId: "simple-chat-bd52a",
            storageBucket: "simple-chat-bd52a.firebasestorage.app",
            messagingSenderId: "378727090977",
            appId: "1:378727090977:web:dcd6b0b2f6b8746ba34c60"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        // Token check function
        function checkToken() {
            const inputToken = document.getElementById('token').value;
            const correctToken = "yourSecretToken"; // Set your password or token here

            if (inputToken === correctToken) {
                document.getElementById('resetSection').style.display = 'block'; // Show reset button
            } else {
                alert("Incorrect Token. Try again.");
            }
        }

        // Function to reset the chat
        function resetChat() {
            let chatRef = database.ref("messages");
            chatRef.remove() // Remove all messages from Firebase
                .then(() => {
                    alert("Chat reset successfully.");
                })
                .catch((error) => {
                    console.error("Error resetting chat:", error);
                });
        }
    </script>
</body>
</html>
